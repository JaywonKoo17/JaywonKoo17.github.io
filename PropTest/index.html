<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="PropTest: Automatic Property Testing for Improved Visual Programming">
  <meta name="keywords" content="PropTest, Visual Programming">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PropTest: Automatic Property Testing for Improved Visual Programming</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
           <h1 class="title is-1 publication-title">PropTest: Automatic Property Testing for Improved Visual Programming</h1>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">
                <a href="https://jaywonkoo17.github.io/" target="_blank">Jaywon Koo</a><sup>1</sup>,</span>
                <span class="author-block">
                  <a href="https://ziyanyang.github.io/" target="_blank">Ziyan Yang</a><sup>1</sup>,</span>
                 <span class="author-block">
                  <a href="https://paolacascante.com" target="_blank">Paola Cascante-Bonilla</a><sup>1</sup>,</span>
                  <span class="author-block">
                  <a href="https://www.rayb.info/" target="_blank">Baishakhi Ray</a><sup>2</sup>,</span>
                  <span class="author-block">
                    <a href="https://www.cs.rice.edu/~vo9/" target="_blank">Vicente Ordóñez</a><sup>1</sup>,
                  </span>
                  </div>
          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>Rice University,</span>
            <span class="author-block"><sup>2</sup>Columbia University</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2403.16921.pdf"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/abs/2403.16921"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/uvavision/PropTest"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <img id="teaser" src="./static/videos/Fig1_gif_.gif" alt="Teaser GIF" style="width: 100%;">
      <h2 class="subtitle has-text-centered">
        <span class="dnerf">Visual programming methods generate code for a program to resolve a vision-and-language task such as VQA. 
          PropTest improves on these methods by automatically generating testing code that probes for several output properties. 
          This is used as additional information when generating code and checking the correctness of the output solutions. As a baseline we use ViperGPT under CodeLlama-7B for this example.
      </h2>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Visual Programming has recently emerged as an alternative to end-to-end black-box visual reasoning models. This type of method leverages Large Language Models (LLMs) to generate the source code for an executable computer program that solves a given problem. This strategy has the advantage of offering an interpretable reasoning path and does not require finetuning a model with task-specific data.
We propose PropTest, a general strategy that improves visual programming by further using an LLM to generate code that tests for visual properties in an initial round of proposed solutions. Our method generates tests for data-type consistency, output syntax, and semantic properties. 
PropTest achieves comparable results to state-of-the-art methods while using publicly available LLMs.
This is demonstrated across different benchmarks on visual question answering and referring expression comprehension.
Particularly, PropTest improves ViperGPT by obtaining 46.1% accuracy (+6.0%) on GQA using Llama3-8B and 59.5% (+8.1%) on RefCOCO+ using CodeLlama-34B.
          </p>
        </div>
      </div>
    </div>
    <!-- Abstract. -->

   <section class="section">
  <div class="container is-max-desktop">
    <!-- Method. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Methods</h2>
        <img src="./static/images/Fig2.png" alt="Descriptive text about the image" style="max-width: 100%; height: auto;">
        <br>
        <p class="is-size-5">Overview of PropTest.</p>
        <br>
        <p class="is-size-6"> An overview of PropTest. Given an image and a question, the goal is to generate Python code that can be executed to get an answer. 
    \model first calls an LLM to generate test cases based on the inferred properties of the answer. Then, the generated test cases are used to improve the quality of Python code. 
        </p>
      </div>
    </div>
  </div>
</section>
<!-- Method. -->

<!-- Image carousel -->
    <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <!-- Carousel Title -->
      <h2 class="title has-text-centered">Qualitative Results</h2>
      <div class="content has-text-justified">
          <p>
            We show some example results on GQA, A-OKVQA, RefCOCO and RefCOCO Plus where PropTest succeeds but the baseline fails.
            Input question and answer is shown on the left, generated property test case in the middle, and code on the right.
          </p>
        </div>
      
      <div id="results-carousel" class="carousel results-carousel">
       <div class="item">
        <!-- Your image here -->
        <img src="static/images/Result1.png" alt="MY ALT TEXT"/>
      </div>
      <div class="item">
        <!-- Your image here -->
        <img src="static/images/Result2.png" alt="MY ALT TEXT"/>
      </div>
      <div class="item">
        <!-- Your image here -->
        <img src="static/images/Results3.png" alt="MY ALT TEXT"/>
     </div>
     <div class="item">
      <!-- Your image here -->
      <img src="static/images/Result4.png" alt="MY ALT TEXT"/>
    </div>
  </div>
</div>
</div>
</section>
<!-- End image carousel -->


     <section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Qualitative Results</h2>
        <img src="./static/images/Main_result.png" alt="Descriptive text about the image" style="max-width: 100%; height: auto;">
        <br>
        <p class="is-size-5">Comparison of PropTest against end-to-end VLM and visual programming methods with CodeLlama-7B on the visual question answering task. </p>
        <br>
        <p class="is-size-6"> We report Accuracy on two visual question answering benchmarks. The number in the subscript indicates improvement over ViperGPT. 
          (&dagger;) WizardCoder-15B has a 0.48x smaller context size than CodeLlama-7B despite having more parameters.
        </p>
        <div style="margin-bottom: 100px;"></div> 
        <img src="./static/images/Table2.png" alt="Descriptive text about the image" style="max-width: 100%; height: auto;">
        <br>
        <p class="is-size-5">Comparison of PropTest against end-to-end VLM and visual programming methods with CodeLlama-7B on visual grounding tasks.  </p>
        <br>
        <p class="is-size-6"> 
The number in the subscript indicates improvement over ViperGPT.(&dagger;) WizardCoder-15B has a 0.48x smaller context size than CodeLlama-7B despite having more parameters.
        </p>
        
      </div>
    </div>
  </div>
</section>



<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@article{koo2024proptest,
      title={PropTest: Automatic Property Testing for Improved Visual Programming}, 
      author={Jaywon Koo and Ziyan Yang and Paola Cascante-Bonilla and Baishakhi Ray and Vicente Ordonez},
      year={2024},
      eprint={2403.16921},
      archivePrefix={arXiv},
      primaryClass={cs.CV}
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow the <a
              href="https://github.com/nerfies/nerfies.github.io">source code</a> of this website,
            we just ask that you link back to this page in the footer.
            Please remember to remove the analytics code included in the header of the website which
            you do not want on your website.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
